import express from 'express';
import fetch from 'node-fetch';

const app  = express();
const PORT = process.env.PORT || 3000;

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
app.get('/health', (_, res) => res.send('ok ðŸš€'));

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  ãƒ¡ã‚¤ãƒ³API  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
/* ã„ã£ãŸã‚“ãƒ€ãƒŸãƒ¼ã®é…åˆ—è¿”ã™ã€‚ã‚ã¨ã§æœ¬ç‰©ã®ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ—çµæžœã«å·®ã—æ›¿ãˆã‚Œã°OK */
app.get('/api/craftwave', (_, res) => {
  const sample = [
    { title: 'ã‚¯ãƒ©ãƒ•ãƒˆãƒ“ãƒ¼ãƒ«æ–°ä½œãƒªãƒªãƒ¼ã‚¹', url: 'https://example.com/post/123' },
    { title: 'ä»Šé€±æœ«é–‹å‚¬ï¼šãƒ“ã‚¢ãƒ•ã‚§ã‚¹æ¸‹è°·',    url: 'https://example.com/post/456' }
  ];
  res.json(sample);
});

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  ã‚µãƒ¼ãƒãƒ¼èµ·å‹•  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
app.listen(PORT, () => console.log(`server on ${PORT}`));
